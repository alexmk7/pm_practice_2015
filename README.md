# Общие условия

Чтобы получить пароль к тестовому серверу, нужно пройти по [ссылке](http://54.228.65.41/2015/register) и вбить туда своё ФИО и номер группы в том виде, в котором оно было послало старостой. Запросить пароль на своё имя можно один раз (так что лучше его записать), если кто-то успел это сделать до вас, то претензии принимаются до 02/12/2015 .

Задачи проверяются автоматически, для этого нужно зайти на соответствующий тестовый сервер, ввести пароль, комментарий и загрузить файл.

В комментарий нужно ввести краткое описание своего алгоритма, если описание слишком большое, то можно оставить ссылку на сервис вроде http://pastebin.com .

Кроме того, во избежание спорных моментов на экзамене, настоятельно рекомендуется зарегестрироваться на [GitHub](http://github.com) или [BitBucket](http://bitbucket.org), и оставить в комментарии ссылку на код (ревизию), который воспроизводит решение. 


# Задание 1

Задача: написать программу, определяющую на каком языке написан текст. Данные расположены в архиве, который можно загрузить  [здесь](https://raw.githubusercontent.com/alexmk7/pm_practice_2015/master/lang_task.zip), тестовый сервер здесь: http://54.228.65.41/2015/lang . В файле **train.txt** 75,000 строк, каждой строке содержится предложение на одном из 15 европейских языков c соответствующей меткой, например:

>    **FR**&nbsp;&lt;tab&gt;&nbsp;**Ce courant est également attaché à la monarchie et prône le   institutionnel.**

где &lt;tab&gt; символ табуляции. В файле **test.txt** 15,000 строк, на каждой строке предложение без метки. Задача определить язык каждого предложения из тестового файла. 

В качестве решения принимается файл из 15,000 строк, на каждой строке которого стоит метка, соответствующая одному из 15 языков, пример такого файла в **output_example.txt** . Все файлы имеют кодировку *utf-8*.

####Оценка результатов
Оценивается точность, то есть доля правильно угаданных меток, для зачета необходимо получить результат больше 0.7 .

# Задание 2

Данные для задачи расположены в [архиве](https://raw.githubusercontent.com/alexmk7/pm_practice_2015/master/lang_task.zip), тестовый сервер по ссылке http://54.228.65.41/2015/transport. В некотором *городе N* на каждом автобусе/троллейбусе/трамвае установлены GPS (или даже ГЛОНАСС) трекеры, которые с некоторым промежутком времени передают информацию о своем местоположении на специальный сервер. 

Допустим, что данные для всех транспортных средства одного маршрута непрерывно записывались на протяжении недели, потом GPS координаты (широта и долгота) были спроецированы на плоскость с использованием [проекции Меркатора](https://www.google.ru/url?sa=t&rct=j&q=&esrc=s&source=web&cd=4&cad=rja&uact=8&ved=0ahUKEwi7w4O806LJAhXka3IKHZEdBrsQFggqMAM&url=https%3A%2F%2Fru.wikipedia.org%2Fwiki%2F%25D0%259F%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%259C%25D0%25B5%25D1%2580%25D0%25BA%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580%25D0%25B0&usg=AFQjCNFQ9VeFoU31ouuKlCvoUVbA2I3nRQ) и некоторого линейного преобразования. Эти данные записаны в файле **train.txt** в виде:

>    **1447037729**&nbsp;&nbsp;&lt;tab&gt;&nbsp;&nbsp;**3054.619968**&nbsp;&nbsp;&lt;tab&gt;&nbsp;&nbsp;**2409.828279**&nbsp;&nbsp;&lt;tab&gt;&nbsp;&nbsp;**570d8**

поля разделены табуляцией. Здесь:
- **1447037729** - [UNIX-время](https://ru.wikipedia.org/wiki/UNIX-%D0%B2%D1%80%D0%B5%D0%BC%D1%8F), который без труда можно преобразовать во что-то разумное с помощью стандартной библиотеки  любимого языка программирования ([Java](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-), [C#](http://stackoverflow.com/questions/249760/how-to-convert-a-unix-timestamp-to-datetime-and-vice-versa), [Python](https://docs.python.org/2/library/datetime.html#datetime.date.fromtimestamp), [Go](https://golang.org/pkg/time/#Unix)).
- **3054.619968** - координата "x"
- **2409.828279** - координата "y"
- **570d8** - уникальный идентификатор транспортного средства, от которого получен сигнал. 

Задача состоит в определении координат остановок в одном направлении. Известно, что в этом направлении всего 39 остановок, первая имеет координаты:

>   **(11038.08464497, 8253.17542416)**

последняя:

>   **(283.08479678,  163.45489494)**

кроме того известно, что есть остановка с координатами:

>   **(3425.67079005, 3469.94198377)**

В тестовом файле должны быть координаты **37** промежуточных остановок (все, что между первой и последней), остановки должны быть упорядочены. Координаты задаются двумя вещественными числами, соответственно "x" и "y". Числа разделены табуляцией или пробелом, пример тестового файла в **output_example.txt** .

####Оценка результатов

За каждую неправильно определенную остановку засчитывается штраф, потом штрафы усредняется по всем остановкам - это и есть результат . 

Формально, пусть известны точные координаты остановочных павильонов:

![$$S = \{(x_i, y_i)\}_{i=1}^{37}$$](https://latex.codecogs.com/gif.latex?%24%24S%20%3D%20%5C%7B%28x_i%2C%20y_i%29%5C%7D_%7Bi%3D1%7D%5E%7B37%7D%24%24)

пусть предсказаны следующие координаты остановок:

![$$\hat{S} = \{(\hat{x_i}, \hat{y_i}\}_{i=1}^{37}$$](https://latex.codecogs.com/gif.download?%24%24%5Chat%7BS%7D%20%3D%20%5C%7B%28%5Chat%7Bx_i%7D%2C%20%5Chat%7By_i%7D%5C%7D_%7Bi%3D1%7D%5E%7B37%7D%24%24)

тогда штраф считается по формуле:
![$$ \frac{1}{37}\sum_{i}^{37}f\big(\sqrt{(x_i - \hat{x_i})^2 + (y_i - \hat{y_i})^2}\big)$$](https://latex.codecogs.com/gif.download?%24%24%20%5Cfrac%7B1%7D%7B37%7D%5Csum_%7Bi%7D%5E%7B37%7Df%5Cbig%28%5Csqrt%7B%28x_i%20-%20%5Chat%7Bx_i%7D%29%5E2%20+%20%28y_i%20-%20%5Chat%7By_i%7D%29%5E2%7D%5Cbig%29%20%24%24)

где
![$$f(x) =   \begin{cases} 0 &\mbox{if } x \le 20 \\ (x - 20)^2 & \mbox{if } x \gt 20 \end{cases} $$](https://latex.codecogs.com/gif.download?%24%24f%28x%29%20%3D%20%5Cbegin%7Bcases%7D%200%20%26%5Cmbox%7Bif%20%7D%20x%20%5Cle%2020%20%5C%5C%20%28x%20-%2020%29%5E2%20%26%20%5Cmbox%7Bif%20%7D%20x%20%3E%2020%20%5Cend%7Bcases%7D%20%24%24)

То есть если оценка попадает в круг радиуса *20* от известных координат, то остановка считается угаданной верно. В противном случае начисляется штраф, равный квадрату расстояния от круга. 

7 человек с лучшими результатами получают "отлично" на экзамене. 

